$ kafka-producer-perf-test.sh --broker-list 172.28.128.22:9092,172.28.128.23:9092,172.28.128.24:9092 --messages 100 --top             ic cep_storm --threads 1 --message-size 100 --batch-size 100 --compression-codec 1
start.time, end.time, compression, message.size, batch.size, total.data.sent.in.MB, MB.sec, total.data.sent.in.nMsg, nMsg.sec
[2016-01-19 07:11:24,103] WARN Produce request with correlation id 101 failed due to [cep_storm,0]: kafka.common.UnknownTopicOrPartitionException (kafka.produer.async.DefaultEventHandler)
[2016-01-19 07:11:24,208] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:11:24,212] WARN Produce request with correlation id 203 failed due to [cep_storm,0]: kafka.common.UnknownTopicOrPartitionException (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:11:24,319] WARN Produce request with correlation id 305 failed due to [cep_storm,0]: kafka.common.UnknownTopicOrPartitionException (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:11:24,425] WARN Produce request with correlation id 407 failed due to [cep_storm,0]: kafka.common.UnknownTopicOrPartitionException (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:11:24,532] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:11:24,535] ERROR Failed to send requests for topics cep_storm with correlation ids in [0,408] (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:11:24,538] ERROR Error in handling batch of 100 events (kafka.producer.async.ProducerSendThread)
kafka.common.FailedToSendMessageException: Failed to send messages after 3 tries.
        at kafka.producer.async.DefaultEventHandler.handle(DefaultEventHandler.scala:90)
        at kafka.producer.async.ProducerSendThread.tryToHandle(ProducerSendThread.scala:105)
        at kafka.producer.async.ProducerSendThread$$anonfun$processEvents$3.apply(ProducerSendThread.scala:88)
        at kafka.producer.async.ProducerSendThread$$anonfun$processEvents$3.apply(ProducerSendThread.scala:68)
        at scala.collection.immutable.Stream.foreach(Stream.scala:594)
        at kafka.producer.async.ProducerSendThread.processEvents(ProducerSendThread.scala:67)
        at kafka.producer.async.ProducerSendThread.run(ProducerSendThread.scala:45)
2016-01-19 07:11:23:831, 2016-01-19 07:11:24:550, 1, 100, 100, 0.01, 0.0133, 100, 139.0821
vagrant@BT2016Realtime01:~/kafka_exp$ kafka-topics.sh --describe --zookeeper 172.28.128.22:2181,172.28.128.23:2181,172.28.128.24:2181 --topic cep_storm
Topic:cep_storm PartitionCount:1        ReplicationFactor:1     Configs:
        Topic: cep_storm        Partition: 0    Leader: 0       Replicas: 0     Isr: 0
vagrant@BT2016Realtime01:~/kafka_exp$ kafka-topics.sh --describe --zookeeper 172.28.128.22:2181,172.28.128.23:2181,172.28.128.24:2181 --topic kafkatest
Topic:kafkatest PartitionCount:3        ReplicationFactor:1     Configs:
        Topic: kafkatest        Partition: 0    Leader: 5       Replicas: 5     Isr: 5
        Topic: kafkatest        Partition: 1    Leader: 6       Replicas: 6     Isr: 6
        Topic: kafkatest        Partition: 2    Leader: 0       Replicas: 0     Isr: 0
vagrant@BT2016Realtime01:~/kafka_exp$ kafka-producer-perf-test.sh --broker-list 172.28.128.24:9092 --messages 100 --topic cep_storm --threads 1 --message-size 100 --batch-size 100 --compression-codec 1
start.time, end.time, compression, message.size, batch.size, total.data.sent.in.MB, MB.sec, total.data.sent.in.nMsg, nMsg.sec
[2016-01-19 07:13:16,078] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,084] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,085] ERROR Failed to collate messages by topic, partition due to: Failed to fetch topic metadata for topic: cep_storm (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:13:16,188] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,190] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,190] ERROR Failed to collate messages by topic, partition due to: Failed to fetch topic metadata for topic: cep_storm (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:13:16,292] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,294] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,294] ERROR Failed to collate messages by topic, partition due to: Failed to fetch topic metadata for topic: cep_storm (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:13:16,397] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,400] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,401] ERROR Failed to collate messages by topic, partition due to: Failed to fetch topic metadata for topic: cep_storm (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:13:16,503] WARN Error while fetching metadata [{TopicMetadata for topic cep_storm ->
No partition metadata for topic cep_storm due to kafka.common.LeaderNotAvailableException}] for topic [cep_storm]: class kafka.common.LeaderNotAvailableException  (kafka.producer.BrokerPartitionInfo)
[2016-01-19 07:13:16,504] ERROR Failed to send requests for topics cep_storm with correlation ids in [0,8] (kafka.producer.async.DefaultEventHandler)
[2016-01-19 07:13:16,505] ERROR Error in handling batch of 100 events (kafka.producer.async.ProducerSendThread)
kafka.common.FailedToSendMessageException: Failed to send messages after 3 tries.
        at kafka.producer.async.DefaultEventHandler.handle(DefaultEventHandler.scala:90)
        at kafka.producer.async.ProducerSendThread.tryToHandle(ProducerSendThread.scala:105)
        at kafka.producer.async.ProducerSendThread$$anonfun$processEvents$3.apply(ProducerSendThread.scala:88)
        at kafka.producer.async.ProducerSendThread$$anonfun$processEvents$3.apply(ProducerSendThread.scala:68)
        at scala.collection.immutable.Stream.foreach(Stream.scala:594)
        at kafka.producer.async.ProducerSendThread.processEvents(ProducerSendThread.scala:67)
        at kafka.producer.async.ProducerSendThread.run(ProducerSendThread.scala:45)
2016-01-19 07:13:15:835, 2016-01-19 07:13:16:510, 1, 100, 100, 0.01, 0.0141, 100, 148.1481
